<!DOCTYPE html>
<head>
	<title>johncs.xyz</title>
	<meta name="viewport" content="width=device-width, initial-scale=1,  maximum-scale=1.0, user-scalable=no">
	<meta name="description" content="A fun distraction from whatever task you're currently procrastinating on."/>
	<meta property="og:description" content="A fun distraction from whatever task you're currently procrastinating on.">
	<meta property="og:image" content="http://johncs.xyz/opengraph-image.png">
	<style>body{font-family:Courier New,monospace;font-size:14px;-webkit-text-size-adjust:none}.header{left:0;top:0;display:inline-block}.header,.status{position:fixed;padding:10px}.status{right:0;bottom:0;opacity:.2;pointer-events:none}#particleCanvasBuffer{display:none}a{color:#c80000}#click-hint{opacity:0;-webkit-transition:opacity 1s ease-in;transition:opacity 1s ease-in;pointer-events:none;display:inline-block}.pulsing{-webkit-animation-duration:5s;animation-duration:5s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:a;animation-name:a}@-webkit-keyframes a{0%{-webkit-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.2);transform:scale(1.2)}20%,to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes a{0%{-webkit-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.2);transform:scale(1.2)}20%,to{-webkit-transform:scale(1);transform:scale(1)}}</style>
</head>
<body style="overflow: hidden; padding: 0; margin: 0">
	<canvas id="particleCanvas" width="0" height="0"></canvas>
	<canvas id="particleCanvasBuffer" width="0" height="0"></canvas>
	<header class="header">
		<div class="link-bar">
			<span aria-hidden="true">//</span> by <a href="https://johncs.com">John Sullivan</a> <span aria-hidden="true">//</span>
			<span id="click-hint" class="pulsing" aria-hidden="true">
				[hint: click/touch/drag]
			</span>
		</div>
		<div class="status">
			FPS: <span id="fps">__</span>
		</div>
	</header>
	<script>!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="/js",e(0)}([function(t,e,i){"use strict";var n=i(1),a=i(2),r=(a.clamp,a.rand),o=i(3),l=o.ParticleEngine,s=o.Particle,u=document.getElementById("particleCanvas");u.width=window.innerWidth,u.height=window.innerHeight;var c=u.getContext("2d"),h=document.getElementById("particleCanvasBuffer");h.width=u.width,h.height=u.height;var d=h.getContext("2d"),f=function(t){for(var e=[],i=0;i<t;++i)e.push(new s({position:new n({x:r(0,u.width),y:r(0,u.height)}),velocity:new n({x:0,y:0}),fillStyle:"rgba(200, 0, 0, 0.4)"}));return e},v=new l({canvasSize:{width:u.width,height:u.height},particles:f(500),metaforces:[function(t){return new n({x:r(-1,0),y:r(-1,0)}).getScaled(.1)}]}),y=new function(){var t=this;this.pendingFrame=null,this.fpsData={rollingSum:0,rollingSumNumSamples:0,lastDrawnFrameTimestamp:null};var e=function(e){v.draw(d),c.drawImage(h,0,0),t.pendingFrame=null,t.recordFrameDrawnForFPS(e)};this.recordFrameDrawnForFPS=function(e){if(null!==t.fpsData.lastDrawnFrameTimestamp){var i=e-t.fpsData.lastDrawnFrameTimestamp,n=1e3/i;t.fpsData.rollingSum+=n,t.fpsData.rollingSumNumSamples+=1}if(t.fpsData.rollingSumNumSamples>50){var a=t.fpsData.rollingSum/t.fpsData.rollingSumNumSamples;document.getElementById("fps").innerHTML=""+Math.round(a),t.fpsData.rollingSum=0,t.fpsData.rollingSumNumSamples=0}t.fpsData.lastDrawnFrameTimestamp=e},this.requestDraw=function(){t.pendingFrame||(t.pendingFrame=window.requestAnimationFrame(e))}};setInterval(function(){v.step(),y.requestDraw()},20);var m=!1,g=setTimeout(function(){document.getElementById("click-hint").style.opacity=1,m=!0},2e3),p=function(){g&&(clearTimeout(g),g=null),m&&(document.getElementById("click-hint").style.opacity=0,m=!1)};u.addEventListener("mousemove",function(t){v.gravityWells=[{position:new n({x:t.clientX,y:t.clientY}),mass:v.gravityWells.length>0?v.gravityWells[0].mass:1}],v.metaforces=[],p()}),u.addEventListener("mousedown",function(t){t.preventDefault(),v.gravityWells=[{position:new n({x:t.clientX,y:t.clientY}),mass:-1}]}),u.addEventListener("mouseup",function(t){t.preventDefault(),v.gravityWells=[{position:new n({x:t.clientX,y:t.clientY}),mass:1}]}),window.addEventListener("keyup",function(t){32===t.keyCode&&(t.preventDefault(),v.particles=f(500))});var w=function(t){if(t.preventDefault(),0!==t.touches.length){for(var e=[],i=0;i<t.touches.length;++i){var a=t.touches[i];e.push({mass:1,position:new n({x:a.pageX,y:a.pageY})})}v.gravityWells=e,v.metaforces=[],p()}};u.addEventListener("touchstart",w),u.addEventListener("touchmove",w);var x=null;window.addEventListener("resize",function(t){x||(x=window.requestAnimationFrame(function(){u.width=window.innerWidth,u.height=window.innerHeight,h.width=u.width,h.height=u.height,v.canvasSize.width=u.width,v.canvasSize.height=u.height,x=null}))})},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){var n=e.x,a=e.y;i(this,t),this.x=n,this.y=a}return n(t,[{key:"getDistance",value:function(t){return Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))}},{key:"getDifference",value:function(e){return new t({x:this.x-e.x,y:this.y-e.y})}},{key:"getNormalizedVectorAndMagnitude",value:function(){var e=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2));return{magnitude:e,normalizedVector:new t({x:this.x/e,y:this.y/e})}}},{key:"getScaled",value:function(e){return new t({x:this.x*e,y:this.y*e})}},{key:"getSum",value:function(e){return new t({x:this.x+e.x,y:this.y+e.y})}},{key:"getUpdated",value:function(e){var i=e.x,n=e.y;return new t({x:void 0===i?this.x:i,y:void 0===n?this.y:n})}}]),t}();t.exports=a},function(t,e){"use strict";t.exports={rand:function(t,e){return Math.random()*(e-t+1)+t},clamp:function(t,e,i){return Math.min(i,Math.max(t,e))}}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),o=i(2),l=o.clamp,s=function(){function t(e){var i=e.position,a=e.velocity,r=e.fillStyle;n(this,t),this.position=i,this.velocity=a,this.fillStyle=r}return a(t,[{key:"getWidth",value:function(){var t=this.velocity.getNormalizedVectorAndMagnitude(),e=t.magnitude;return l(e,2,10)}}]),t}(),u=function(){function t(e){var i=e.canvasSize,a=e.particles,r=void 0===a?[]:a,o=e.gravityWells,l=void 0===o?[]:o,s=e.metaforces,u=void 0===s?[]:s,c=e.big_g,h=void 0===c?10:c;n(this,t),this.canvasSize=i,this.particles=r,this.gravityWells=l,this.metaforces=u,this.big_g=h}return a(t,[{key:"getForceOnParticle",value:function(t){var e=[],i=!0,n=!1,a=void 0;try{for(var o,s=this.gravityWells[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value,c=u.position.getDifference(t.position).getNormalizedVectorAndMagnitude(),h=c.magnitude,d=c.normalizedVector,f=l(this.big_g*u.mass*Math.min(1,1/h),-.1,.1);e.push(d.getScaled(f))}}catch(t){n=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw a}}var v=!0,y=!1,m=void 0;try{for(var g,p=this.metaforces[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){var w=g.value;e.push(w(t))}}catch(t){y=!0,m=t}finally{try{!v&&p.return&&p.return()}finally{if(y)throw m}}return e.reduce(function(t,e){return t.getSum(e)},new r({x:0,y:0}))}},{key:"getAdjustedVelocityWithWallBounce",value:function(t){var e=t.velocity;return t.position.x>this.canvasSize.width?e=e.getUpdated({x:-Math.abs(e.x)}):t.position.x<0&&(e=e.getUpdated({x:Math.abs(e.x)})),t.position.y>this.canvasSize.height?e=e.getUpdated({y:-Math.abs(e.y)}):t.position.y<0&&(e=e.getUpdated({y:Math.abs(e.y)})),e}},{key:"step",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,a=this.particles[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var r=n.value,o=this.getForceOnParticle(r);r.velocity=r.velocity.getSum(o),r.velocity=r.velocity.getScaled(.99),r.velocity=this.getAdjustedVelocityWithWallBounce(r),r.position=r.position.getSum(r.velocity)}}catch(t){e=!0,i=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}}},{key:"draw",value:function(t){t.fillStyle="rgba(255, 255, 255, 0.7)",t.fillRect(0,0,this.canvasSize.width,this.canvasSize.height);var e=!0,i=!1,n=void 0;try{for(var a,r=this.particles[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var o=a.value;t.fillStyle=o.fillStyle;var l=o.getWidth();t.fillRect(o.position.x-l/2,o.position.y-l/2,l,l)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}}}]),t}();t.exports={Particle:s,ParticleEngine:u}}]);</script>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-51104787-2', 'auto');
		ga('send', 'pageview');
	</script>
</body>

